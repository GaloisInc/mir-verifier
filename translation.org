Notes on the design of MIR->Crucible translation
* Notes
  - export JSON MIR: cargo mir-json
  - mir-json builds with 'rustup override set nightly-2017-08-16'
  - MIR export is pinned to a compiler version
  - SAW-script interface:
    + mir_load
    + mir_extract
* Traits
** Examples of trait compilation
*** Simple
**** Rust
struct Data(u32);

trait Foo {
    fn foo (&self) -> ();
}

impl Foo for Data {
    fn foo (&self) -> () {
    
    }
}

fn main() {
   let d = Data(32);
   fun(&d);
}

fn fun(f: &Foo) -> () {
   f.foo();
}
**** MIR
// WARNING: This output format is intended for human consumers only
// and is subject to change without notice. Knock yourself out.
fn main() -> () {
    let mut _0: ();                      // return pointer
    scope 1 {
        let _1: Data;                    // "d" in scope 1 at src/main.rs:14:8: 14:9
    }
    let mut _2: ();
    let mut _3: &Foo;
    let mut _4: &Data;
    let mut _5: &Data;

    bb0: {
        StorageLive(_1);                 // scope 0 at src/main.rs:14:8: 14:9
        _1 = Data::{{constructor}}(const 32u32,); // scope 0 at src/main.rs:14:12: 14:20
        StorageLive(_3);                 // scope 1 at src/main.rs:15:8: 15:10
        StorageLive(_4);                 // scope 1 at src/main.rs:15:8: 15:10
        StorageLive(_5);                 // scope 1 at src/main.rs:15:8: 15:10
        _5 = &_1;                        // scope 1 at src/main.rs:15:8: 15:10
        _4 = _5;                         // scope 1 at src/main.rs:15:8: 15:10
        _3 = _4 as &Foo (Unsize);        // scope 1 at src/main.rs:15:8: 15:10
        StorageDead(_4);                 // scope 1 at src/main.rs:15:10: 15:10
        _2 = const fun(_3) -> bb1;       // scope 1 at src/main.rs:15:4: 15:11
    }

    bb1: {
        StorageDead(_3);                 // scope 1 at src/main.rs:15:11: 15:11
        nop;                             // scope 1 at src/main.rs:15:4: 15:11
        StorageDead(_5);                 // scope 1 at src/main.rs:15:12: 15:12
        _0 = ();                         // scope 0 at src/main.rs:13:11: 16:2
        StorageDead(_1);                 // scope 0 at src/main.rs:16:2: 16:2
        return;                          // scope 0 at src/main.rs:16:2: 16:2
    }
}

fn <impl at src/main.rs:7:1: 11:2>::foo(_1: &Data) -> () {
    let mut _0: ();                      // return pointer
    scope 1 {
        let _2: &Data;                   // "self" in scope 1 at src/main.rs:8:13: 8:18
    }

    bb0: {
        StorageLive(_2);                 // scope 0 at src/main.rs:8:13: 8:18
        _2 = _1;                         // scope 0 at src/main.rs:8:13: 8:18
        _0 = ();                         // scope 1 at src/main.rs:8:26: 10:6
        StorageDead(_2);                 // scope 0 at src/main.rs:10:6: 10:6
        return;                          // scope 1 at src/main.rs:10:6: 10:6
    }
}

fn fun(_1: &Foo) -> () {
    let mut _0: ();                      // return pointer
    scope 1 {
        let _2: &Foo;                    // "f" in scope 1 at src/main.rs:18:8: 18:9
    }
    let mut _3: ();
    let mut _4: &Foo;

    bb0: {
        StorageLive(_2);                 // scope 0 at src/main.rs:18:8: 18:9
        _2 = _1;                         // scope 0 at src/main.rs:18:8: 18:9
        StorageLive(_4);                 // scope 1 at src/main.rs:19:4: 19:5
        _4 = _2;                         // scope 1 at src/main.rs:19:4: 19:5
        _3 = const Foo::foo(_4) -> bb1;  // scope 1 at src/main.rs:19:4: 19:11
    }

    bb1: {
        StorageDead(_4);                 // scope 1 at src/main.rs:19:11: 19:11
        nop;                             // scope 1 at src/main.rs:19:4: 19:11
        _0 = ();                         // scope 1 at src/main.rs:18:23: 20:2
        StorageDead(_2);                 // scope 0 at src/main.rs:20:2: 20:2
        return;                          // scope 1 at src/main.rs:20:2: 20:2
    }
}

fn Data(_1: u32) -> Data {
    let mut _0: Data;                    // return pointer

    bb0: {
        _0 = Data::{{constructor}}(_1,); // scope 0 at src/main.rs:1:1: 1:18
        return;                          // scope 0 at src/main.rs:1:1: 1:18
    }
}

**** Mir-verifier AST
#+begin_src haskell
[Fn{_fname = "::{{impl}}[0]::foo[0]",
    _fargs =
      [Var{_varname = "_1", _varmut = Immut,
           _varty = TyRef (TyAdt "traits/8b70a08::Data[0]" []) Immut,
           _varscope = "scope0", _varpos = "src/main.rs:13:13: 13:18"}],
    _freturn_ty = TyTuple [],
    _fbody =
      MirBody{_mvars =
                [Var{_varname = "_0", _varmut = Mut, _varty = TyTuple [],
                     _varscope = "scope0", _varpos = "src/main.rs:13:5: 15:6"},
                 Var{_varname = "_2", _varmut = Immut,
                     _varty = TyRef (TyAdt "traits/8b70a08::Data[0]" []) Immut,
                     _varscope = "scope1", _varpos = "src/main.rs:13:13: 13:18"}],
              _mblocks =
                [BasicBlock{_bbinfo = "bb0",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_2",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "traits/8b70a08::Data[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope1",
                                                                          _varpos =
                                                                            "src/main.rs:13:13: 13:18"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_2",
                                                                     _varmut = Immut,
                                                                     _varty =
                                                                       TyRef
                                                                         (TyAdt
                                                                            "traits/8b70a08::Data[0]"
                                                                            [])
                                                                         Immut,
                                                                     _varscope = "scope1",
                                                                     _varpos =
                                                                       "src/main.rs:13:13: 13:18"}},
                                                       _arhs =
                                                         Use{_uop =
                                                               Consume
                                                                 (Local{_lvar =
                                                                          Var{_varname = "_1",
                                                                              _varmut = Immut,
                                                                              _varty =
                                                                                TyRef
                                                                                  (TyAdt
                                                                                     "traits/8b70a08::Data[0]"
                                                                                     [])
                                                                                  Immut,
                                                                              _varscope = "scope0",
                                                                              _varpos =
                                                                                "src/main.rs:13:13: 13:18"}})},
                                                       _apos = "src/main.rs:13:13: 13:18"},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_0", _varmut = Mut,
                                                                     _varty = TyTuple [],
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:13:5: 15:6"}},
                                                       _arhs = Aggregate{_ak = AKTuple, _ops = []},
                                                       _apos = "src/main.rs:13:26: 15:6"},
                                                StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_2",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "traits/8b70a08::Data[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope1",
                                                                          _varpos =
                                                                            "src/main.rs:13:13: 13:18"}}}],
                                             _bbterminator = Return}}]}},
 Fn{_fname = "::Data[0]::{{constructor}}[0]",
    _fargs =
      [Var{_varname = "_1", _varmut = Immut, _varty = TyUint B32,
           _varscope = "scope0", _varpos = "src/main.rs:6:1: 6:18"}],
    _freturn_ty = TyAdt "traits/8b70a08::Data[0]" [],
    _fbody =
      MirBody{_mvars =
                [Var{_varname = "_0", _varmut = Mut,
                     _varty = TyAdt "traits/8b70a08::Data[0]" [], _varscope = "scope0",
                     _varpos = "src/main.rs:6:1: 6:18"}],
              _mblocks =
                [BasicBlock{_bbinfo = "bb0",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_0", _varmut = Mut,
                                                                     _varty =
                                                                       TyAdt
                                                                         "traits/8b70a08::Data[0]"
                                                                         [],
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:6:1: 6:18"}},
                                                       _arhs =
                                                         RAdtAg
                                                           (AdtAg{_agadt =
                                                                    Adt{_adtname =
                                                                          "traits/8b70a08::Data[0]",
                                                                        _adtvariants =
                                                                          [Variant{_vname =
                                                                                     "traits/8b70a08::Data[0]::{{constructor}}[0]",
                                                                                   _vdiscr =
                                                                                     Relative 0,
                                                                                   _vfields =
                                                                                     [Field{_fName =
                                                                                              "traits/8b70a08::Data[0]::0[0]",
                                                                                            _fty =
                                                                                              TyUint
                                                                                                B32,
                                                                                            _fsubsts
                                                                                              =
                                                                                              []}],
                                                                                   _vctorkind =
                                                                                     FnKind}]},
                                                                  _avgariant = 0,
                                                                  _aops =
                                                                    [Consume
                                                                       (Local{_lvar =
                                                                                Var{_varname = "_1",
                                                                                    _varmut = Immut,
                                                                                    _varty =
                                                                                      TyUint B32,
                                                                                    _varscope =
                                                                                      "scope0",
                                                                                    _varpos =
                                                                                      "src/main.rs:6:1: 6:18"}})]}),
                                                       _apos = "src/main.rs:6:1: 6:18"}],
                                             _bbterminator = Return}}]}},
 Fn{_fname = "::fun[0]",
    _fargs =
      [Var{_varname = "_1", _varmut = Immut,
           _varty = TyRef (TyDynamic "::Foo[0]") Immut, _varscope = "scope0",
           _varpos = "src/main.rs:19:8: 19:9"}],
    _freturn_ty = TyTuple [],
    _fbody =
      MirBody{_mvars =
                [Var{_varname = "_0", _varmut = Mut, _varty = TyTuple [],
                     _varscope = "scope0", _varpos = "src/main.rs:19:1: 21:2"},
                 Var{_varname = "_2", _varmut = Immut,
                     _varty = TyRef (TyDynamic "::Foo[0]") Immut, _varscope = "scope1",
                     _varpos = "src/main.rs:19:8: 19:9"},
                 Var{_varname = "_3", _varmut = Mut, _varty = TyTuple [],
                     _varscope = "scope0", _varpos = "src/main.rs:20:4: 20:11"},
                 Var{_varname = "_4", _varmut = Mut,
                     _varty = TyRef (TyDynamic "::Foo[0]") Immut, _varscope = "scope0",
                     _varpos = "src/main.rs:20:4: 20:5"}],
              _mblocks =
                [BasicBlock{_bbinfo = "bb0",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_2",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyDynamic "::Foo[0]")
                                                                              Immut,
                                                                          _varscope = "scope1",
                                                                          _varpos =
                                                                            "src/main.rs:19:8: 19:9"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_2",
                                                                     _varmut = Immut,
                                                                     _varty =
                                                                       TyRef (TyDynamic "::Foo[0]")
                                                                         Immut,
                                                                     _varscope = "scope1",
                                                                     _varpos =
                                                                       "src/main.rs:19:8: 19:9"}},
                                                       _arhs =
                                                         Use{_uop =
                                                               Consume
                                                                 (Local{_lvar =
                                                                          Var{_varname = "_1",
                                                                              _varmut = Immut,
                                                                              _varty =
                                                                                TyRef
                                                                                  (TyDynamic
                                                                                     "::Foo[0]")
                                                                                  Immut,
                                                                              _varscope = "scope0",
                                                                              _varpos =
                                                                                "src/main.rs:19:8: 19:9"}})},
                                                       _apos = "src/main.rs:19:8: 19:9"},
                                                StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_4",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyDynamic "::Foo[0]")
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:20:4: 20:5"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_4", _varmut = Mut,
                                                                     _varty =
                                                                       TyRef (TyDynamic "::Foo[0]")
                                                                         Immut,
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:20:4: 20:5"}},
                                                       _arhs =
                                                         Use{_uop =
                                                               Consume
                                                                 (Local{_lvar =
                                                                          Var{_varname = "_2",
                                                                              _varmut = Immut,
                                                                              _varty =
                                                                                TyRef
                                                                                  (TyDynamic
                                                                                     "::Foo[0]")
                                                                                  Immut,
                                                                              _varscope = "scope1",
                                                                              _varpos =
                                                                                "src/main.rs:19:8: 19:9"}})},
                                                       _apos = "src/main.rs:20:4: 20:5"}],
                                             _bbterminator =
                                               Call{_cfunc =
                                                      OpConstant
                                                        (Constant{_conty =
                                                                    TyFnDef "::Foo[0]::foo[0]"
                                                                      [Just (TyDynamic "::Foo[0]")],
                                                                  _conliteral =
                                                                    Value
                                                                      (ConstFunction
                                                                         "::Foo[0]::foo[0]"
                                                                         [Just
                                                                            (TyDynamic
                                                                               "::Foo[0]")])}),
                                                    _cargs =
                                                      [Consume
                                                         (Local{_lvar =
                                                                  Var{_varname = "_4",
                                                                      _varmut = Mut,
                                                                      _varty =
                                                                        TyRef (TyDynamic "::Foo[0]")
                                                                          Immut,
                                                                      _varscope = "scope0",
                                                                      _varpos =
                                                                        "src/main.rs:20:4: 20:5"}})],
                                                    _cdest =
                                                      Just
                                                        (Local{_lvar =
                                                                 Var{_varname = "_3", _varmut = Mut,
                                                                     _varty = TyTuple [],
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:20:4: 20:11"}},
                                                         "bb1"),
                                                    _cleanup = Nothing}}},
                 BasicBlock{_bbinfo = "bb1",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_4",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyDynamic "::Foo[0]")
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:20:4: 20:5"}}},
                                                Nop,
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_0", _varmut = Mut,
                                                                     _varty = TyTuple [],
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:19:1: 21:2"}},
                                                       _arhs = Aggregate{_ak = AKTuple, _ops = []},
                                                       _apos = "src/main.rs:19:23: 21:2"},
                                                StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_2",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyDynamic "::Foo[0]")
                                                                              Immut,
                                                                          _varscope = "scope1",
                                                                          _varpos =
                                                                            "src/main.rs:19:8: 19:9"}}}],
                                             _bbterminator = Return}}]}},
 Fn{_fname = "::main[0]", _fargs = [], _freturn_ty = TyTuple [],
    _fbody =
      MirBody{_mvars =
                [Var{_varname = "_0", _varmut = Mut, _varty = TyTuple [],
                     _varscope = "scope0", _varpos = "src/main.rs:1:1: 4:2"},
                 Var{_varname = "_1", _varmut = Immut,
                     _varty = TyAdt "traits/8b70a08::Data[0]" [], _varscope = "scope1",
                     _varpos = "src/main.rs:2:8: 2:9"},
                 Var{_varname = "_2", _varmut = Mut, _varty = TyTuple [],
                     _varscope = "scope0", _varpos = "src/main.rs:3:4: 3:11"},
                 Var{_varname = "_3", _varmut = Mut,
                     _varty = TyRef (TyDynamic "::Foo[0]") Immut, _varscope = "scope0",
                     _varpos = "src/main.rs:3:8: 3:10"},
                 Var{_varname = "_4", _varmut = Mut,
                     _varty = TyRef (TyAdt "traits/8b70a08::Data[0]" []) Immut,
                     _varscope = "scope0", _varpos = "src/main.rs:3:8: 3:10"},
                 Var{_varname = "_5", _varmut = Mut,
                     _varty = TyRef (TyAdt "traits/8b70a08::Data[0]" []) Immut,
                     _varscope = "scope0", _varpos = "src/main.rs:3:8: 3:10"}],
              _mblocks =
                [BasicBlock{_bbinfo = "bb0",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_1",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyAdt
                                                                              "traits/8b70a08::Data[0]"
                                                                              [],
                                                                          _varscope = "scope1",
                                                                          _varpos =
                                                                            "src/main.rs:2:8: 2:9"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_1",
                                                                     _varmut = Immut,
                                                                     _varty =
                                                                       TyAdt
                                                                         "traits/8b70a08::Data[0]"
                                                                         [],
                                                                     _varscope = "scope1",
                                                                     _varpos =
                                                                       "src/main.rs:2:8: 2:9"}},
                                                       _arhs =
                                                         RAdtAg
                                                           (AdtAg{_agadt =
                                                                    Adt{_adtname =
                                                                          "traits/8b70a08::Data[0]",
                                                                        _adtvariants =
                                                                          [Variant{_vname =
                                                                                     "traits/8b70a08::Data[0]::{{constructor}}[0]",
                                                                                   _vdiscr =
                                                                                     Relative 0,
                                                                                   _vfields =
                                                                                     [Field{_fName =
                                                                                              "traits/8b70a08::Data[0]::0[0]",
                                                                                            _fty =
                                                                                              TyUint
                                                                                                B32,
                                                                                            _fsubsts
                                                                                              =
                                                                                              []}],
                                                                                   _vctorkind =
                                                                                     FnKind}]},
                                                                  _avgariant = 0,
                                                                  _aops =
                                                                    [OpConstant
                                                                       (Constant{_conty =
                                                                                   TyUint B32,
                                                                                 _conliteral =
                                                                                   Value
                                                                                     (ConstInt
                                                                                        (U32
                                                                                           32))})]}),
                                                       _apos = "src/main.rs:2:12: 2:20"},
                                                StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_3",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyDynamic "::Foo[0]")
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:3:8: 3:10"}}},
                                                StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_4",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "traits/8b70a08::Data[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:3:8: 3:10"}}},
                                                StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_5",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "traits/8b70a08::Data[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:3:8: 3:10"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_5", _varmut = Mut,
                                                                     _varty =
                                                                       TyRef
                                                                         (TyAdt
                                                                            "traits/8b70a08::Data[0]"
                                                                            [])
                                                                         Immut,
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:3:8: 3:10"}},
                                                       _arhs =
                                                         Ref{_rbk = Shared,
                                                             _rvar =
                                                               Local{_lvar =
                                                                       Var{_varname = "_1",
                                                                           _varmut = Immut,
                                                                           _varty =
                                                                             TyAdt
                                                                               "traits/8b70a08::Data[0]"
                                                                               [],
                                                                           _varscope = "scope1",
                                                                           _varpos =
                                                                             "src/main.rs:2:8: 2:9"}},
                                                             _rregion = "unimplement"},
                                                       _apos = "src/main.rs:3:8: 3:10"},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_4", _varmut = Mut,
                                                                     _varty =
                                                                       TyRef
                                                                         (TyAdt
                                                                            "traits/8b70a08::Data[0]"
                                                                            [])
                                                                         Immut,
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:3:8: 3:10"}},
                                                       _arhs =
                                                         Use{_uop =
                                                               Consume
                                                                 (Local{_lvar =
                                                                          Var{_varname = "_5",
                                                                              _varmut = Mut,
                                                                              _varty =
                                                                                TyRef
                                                                                  (TyAdt
                                                                                     "traits/8b70a08::Data[0]"
                                                                                     [])
                                                                                  Immut,
                                                                              _varscope = "scope0",
                                                                              _varpos =
                                                                                "src/main.rs:3:8: 3:10"}})},
                                                       _apos = "src/main.rs:3:8: 3:10"},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_3", _varmut = Mut,
                                                                     _varty =
                                                                       TyRef (TyDynamic "::Foo[0]")
                                                                         Immut,
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:3:8: 3:10"}},
                                                       _arhs =
                                                         Cast{_cck = Unsize,
                                                              _cop =
                                                                Consume
                                                                  (Local{_lvar =
                                                                           Var{_varname = "_4",
                                                                               _varmut = Mut,
                                                                               _varty =
                                                                                 TyRef
                                                                                   (TyAdt
                                                                                      "traits/8b70a08::Data[0]"
                                                                                      [])
                                                                                   Immut,
                                                                               _varscope = "scope0",
                                                                               _varpos =
                                                                                 "src/main.rs:3:8: 3:10"}}),
                                                              _cty =
                                                                TyRef (TyDynamic "::Foo[0]") Immut},
                                                       _apos = "src/main.rs:3:8: 3:10"},
                                                StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_4",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "traits/8b70a08::Data[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:3:8: 3:10"}}}],
                                             _bbterminator =
                                               Call{_cfunc =
                                                      OpConstant
                                                        (Constant{_conty = TyFnDef "::fun[0]" [],
                                                                  _conliteral =
                                                                    Value
                                                                      (ConstFunction "::fun[0]"
                                                                         [])}),
                                                    _cargs =
                                                      [Consume
                                                         (Local{_lvar =
                                                                  Var{_varname = "_3",
                                                                      _varmut = Mut,
                                                                      _varty =
                                                                        TyRef (TyDynamic "::Foo[0]")
                                                                          Immut,
                                                                      _varscope = "scope0",
                                                                      _varpos =
                                                                        "src/main.rs:3:8: 3:10"}})],
                                                    _cdest =
                                                      Just
                                                        (Local{_lvar =
                                                                 Var{_varname = "_2", _varmut = Mut,
                                                                     _varty = TyTuple [],
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:3:4: 3:11"}},
                                                         "bb1"),
                                                    _cleanup = Nothing}}},
                 BasicBlock{_bbinfo = "bb1",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_3",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyDynamic "::Foo[0]")
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:3:8: 3:10"}}},
                                                Nop,
                                                StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_5",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "traits/8b70a08::Data[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:3:8: 3:10"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_0", _varmut = Mut,
                                                                     _varty = TyTuple [],
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:1:1: 4:2"}},
                                                       _arhs = Aggregate{_ak = AKTuple, _ops = []},
                                                       _apos = "src/main.rs:1:11: 4:2"},
                                                StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_1",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyAdt
                                                                              "traits/8b70a08::Data[0]"
                                                                              [],
                                                                          _varscope = "scope1",
                                                                          _varpos =
                                                                            "src/main.rs:2:8: 2:9"}}}],
                                             _bbterminator = Return}}]}}]
#+end_src
*** More complex
**** Rust
#+begin_src rust
use std::env;

fn main() {
   let args: Vec<String> = env::args().collect();

   let choice = &args[1];
   let d = Data(32);
   let s = String::from("hello");
   if choice == "1" { fun(&d);}
   else {fun(&s);}
}

struct Data(u32);

trait Foo {
    fn foo (&self) -> ();
}

impl Foo for Data {
    fn foo (&self) -> () {
    
    }
}

impl Foo for String {
    fn foo (&self) -> () {
        1+1;
    }
}


fn fun(f: &Foo) -> () {
   f.foo();
}
#+end_src
**** MIR
#+begin_src
// WARNING: This output format is intended for human consumers only
// and is subject to change without notice. Knock yourself out.
fn <impl at src/main.rs:25:1: 29:2>::foo(_1: &std::string::String) -> () {
    let mut _0: ();                      // return pointer
    let mut _2: i32;
    let mut _3: (i32, bool);

    bb0: {                              
        _3 = CheckedAdd(const 1i32, const 1i32); // scope 0 at src/main.rs:27:9: 27:12
        assert(!(_3.1: bool), "attempt to add with overflow") -> bb1; // scope 0 at src/main.rs:27:9: 27:12
    }

    bb1: {                              
        _2 = (_3.0: i32);                // scope 0 at src/main.rs:27:9: 27:12
        _0 = ();                         // scope 0 at src/main.rs:26:26: 28:6
        return;                          // scope 0 at src/main.rs:28:6: 28:6
    }
}

fn main() -> () {
    let mut _0: ();                      // return pointer
    scope 1 {
        let _1: std::vec::Vec<std::string::String>; // "args" in scope 1 at src/main.rs:4:8: 4:12
        scope 3 {
            let _3: &std::string::String; // "choice" in scope 3 at src/main.rs:6:8: 6:14
            scope 5 {
                let _6: Data;            // "d" in scope 5 at src/main.rs:7:8: 7:9
                scope 7 {
                    let _7: std::string::String; // "s" in scope 7 at src/main.rs:8:8: 8:9
                }
                scope 8 {
                }
            }
            scope 6 {
            }
        }
        scope 4 {
        }
    }
    scope 2 {
    }
    let mut _2: std::env::Args;
    let mut _4: &std::string::String;
    let mut _5: &std::vec::Vec<std::string::String>;
    let mut _8: bool;
    let mut _9: &&std::string::String;
    let mut _10: &&str;
    let mut _11: ();
    let mut _12: &Foo;
    let mut _13: &Data;
    let mut _14: &Data;
    let mut _15: ();
    let mut _16: &Foo;
    let mut _17: &std::string::String;
    let mut _18: &std::string::String;

    bb0: {                              
        StorageLive(_1);                 // scope 1 at src/main.rs:4:8: 4:12
        StorageLive(_2);                 // scope 1 at src/main.rs:4:28: 4:39
        _2 = const std::env::args() -> bb1; // scope 1 at src/main.rs:4:28: 4:39
    }

    bb1: {                              
        _1 = const std::iter::Iterator::collect(_2) -> bb3; // scope 1 at src/main.rs:4:28: 4:49
    }

    bb2: {                               // cleanup
        resume;                          // scope 0 at src/main.rs:3:1: 11:2
    }

    bb3: {                              
        StorageDead(_2);                 // scope 1 at src/main.rs:4:49: 4:49
        StorageLive(_3);                 // scope 3 at src/main.rs:6:8: 6:14
        StorageLive(_4);                 // scope 3 at src/main.rs:6:18: 6:25
        StorageLive(_5);                 // scope 3 at src/main.rs:6:18: 6:22
        _5 = &_1;                        // scope 3 at src/main.rs:6:18: 6:22
        _4 = const std::ops::Index::index(_5, const 1usize) -> [return: bb4, unwind: bb5]; // scope 3 at src/main.rs:6:18: 6:25
    }

    bb4: {                              
        StorageDead(_5);                 // scope 3 at src/main.rs:6:25: 6:25
        _3 = _4;                         // scope 3 at src/main.rs:6:17: 6:25
        StorageLive(_6);                 // scope 5 at src/main.rs:7:8: 7:9
        _6 = Data::{{constructor}}(const 32u32,); // scope 5 at src/main.rs:7:12: 7:20
        StorageLive(_7);                 // scope 7 at src/main.rs:8:8: 8:9
        _7 = const std::convert::From::from(const "hello") -> [return: bb6, unwind: bb5]; // scope 7 at src/main.rs:8:12: 8:33
    }

    bb5: {                               // cleanup
        drop(_1) -> bb2;                 // scope 0 at src/main.rs:11:2: 11:2
    }

    bb6: {                              
        StorageLive(_8);                 // scope 7 at src/main.rs:9:7: 9:20
        StorageLive(_9);                 // scope 7 at src/main.rs:9:7: 9:13
        _9 = &_3;                        // scope 7 at src/main.rs:9:7: 9:13
        StorageLive(_10);                // scope 7 at src/main.rs:9:17: 9:20
        _10 = promoted[0];               // scope 7 at src/main.rs:9:17: 9:20
        _8 = const std::cmp::PartialEq::eq(_9, _10) -> [return: bb7, unwind: bb8]; // scope 7 at src/main.rs:9:7: 9:20
    }

    bb7: {                              
        StorageDead(_10);                // scope 7 at src/main.rs:9:20: 9:20
        StorageDead(_9);                 // scope 7 at src/main.rs:9:20: 9:20
        switchInt(_8) -> [0u8: bb10, otherwise: bb9]; // scope 7 at src/main.rs:9:4: 10:19
    }

    bb8: {                               // cleanup
        drop(_7) -> bb5;                 // scope 5 at src/main.rs:11:2: 11:2
    }

    bb9: {                              
        StorageLive(_12);                // scope 7 at src/main.rs:9:27: 9:29
        StorageLive(_13);                // scope 7 at src/main.rs:9:27: 9:29
        StorageLive(_14);                // scope 7 at src/main.rs:9:27: 9:29
        _14 = &_6;                       // scope 7 at src/main.rs:9:27: 9:29
        _13 = _14;                       // scope 7 at src/main.rs:9:27: 9:29
        _12 = _13 as &Foo (Unsize);      // scope 7 at src/main.rs:9:27: 9:29
        StorageDead(_13);                // scope 7 at src/main.rs:9:29: 9:29
        _11 = const fun(_12) -> [return: bb11, unwind: bb8]; // scope 7 at src/main.rs:9:23: 9:30
    }

    bb10: {                             
        StorageLive(_16);                // scope 7 at src/main.rs:10:14: 10:16
        StorageLive(_17);                // scope 7 at src/main.rs:10:14: 10:16
        StorageLive(_18);                // scope 7 at src/main.rs:10:14: 10:16
        _18 = &_7;                       // scope 7 at src/main.rs:10:14: 10:16
        _17 = _18;                       // scope 7 at src/main.rs:10:14: 10:16
        _16 = _17 as &Foo (Unsize);      // scope 7 at src/main.rs:10:14: 10:16
        StorageDead(_17);                // scope 7 at src/main.rs:10:16: 10:16
        _15 = const fun(_16) -> [return: bb12, unwind: bb8]; // scope 7 at src/main.rs:10:10: 10:17
    }

    bb11: {                             
        StorageDead(_12);                // scope 7 at src/main.rs:9:30: 9:30
        StorageDead(_14);                // scope 7 at src/main.rs:9:31: 9:31
        _0 = ();                         // scope 7 at src/main.rs:9:21: 9:32
        goto -> bb13;                    // scope 7 at src/main.rs:9:4: 10:19
    }

    bb12: {                             
        StorageDead(_16);                // scope 7 at src/main.rs:10:17: 10:17
        StorageDead(_18);                // scope 7 at src/main.rs:10:18: 10:18
        _0 = ();                         // scope 7 at src/main.rs:10:9: 10:19
        goto -> bb13;                    // scope 7 at src/main.rs:9:4: 10:19
    }

    bb13: {                             
        StorageDead(_8);                 // scope 7 at src/main.rs:10:19: 10:19
        drop(_7) -> [return: bb14, unwind: bb5]; // scope 5 at src/main.rs:11:2: 11:2
    }

    bb14: {                             
        StorageDead(_7);                 // scope 5 at src/main.rs:11:2: 11:2
        StorageDead(_6);                 // scope 3 at src/main.rs:11:2: 11:2
        StorageDead(_3);                 // scope 1 at src/main.rs:11:2: 11:2
        StorageDead(_4);                 // scope 1 at src/main.rs:11:2: 11:2
        drop(_1) -> bb15;                // scope 0 at src/main.rs:11:2: 11:2
    }

    bb15: {                             
        StorageDead(_1);                 // scope 0 at src/main.rs:11:2: 11:2
        return;                          // scope 0 at src/main.rs:11:2: 11:2
    }
}

promoted[0] in main: &&str = {
    let mut _0: &&str;                   // return pointer
    scope 1 {
        scope 3 {
            scope 5 {
                scope 7 {
                }
                scope 8 {
                }
            }
            scope 6 {
            }
        }
        scope 4 {
        }
    }
    scope 2 {
    }
    let mut _1: &str;

    bb0: {                              
        _1 = const "1";                  // scope 0 at src/main.rs:9:17: 9:20
        _0 = &_1;                        // scope 0 at src/main.rs:9:17: 9:20
        return;                          // scope 0 at src/main.rs:9:17: 9:20
    }
}

fn fun(_1: &Foo) -> () {
    let mut _0: ();                      // return pointer
    let mut _2: ();
    let mut _3: &Foo;

    bb0: {                              
        StorageLive(_3);                 // scope 0 at src/main.rs:33:4: 33:5
        _3 = _1;                         // scope 0 at src/main.rs:33:4: 33:5
        _2 = const Foo::foo(_3) -> bb1;  // scope 0 at src/main.rs:33:4: 33:11
    }

    bb1: {                              
        StorageDead(_3);                 // scope 0 at src/main.rs:33:11: 33:11
        _0 = ();                         // scope 0 at src/main.rs:32:23: 34:2
        return;                          // scope 0 at src/main.rs:34:2: 34:2
    }
}

fn <impl at src/main.rs:19:1: 23:2>::foo(_1: &Data) -> () {
    let mut _0: ();                      // return pointer

    bb0: {                              
        _0 = ();                         // scope 0 at src/main.rs:20:26: 22:6
        return;                          // scope 0 at src/main.rs:22:6: 22:6
    }
}

fn Data(_1: u32) -> Data {
    let mut _0: Data;                    // return pointer

    bb0: {                              
        _0 = Data::{{constructor}}(_1,); // scope 0 at src/main.rs:13:1: 13:18
        return;                          // scope 0 at src/main.rs:13:1: 13:18
    }
}
#+end_src
**** Mir-verifier AST
#+begin_src haskell
[Fn{_fname = "::{{impl}}[1]::foo[0]",
    _fargs =
      [Var{_varname = "_1", _varmut = Immut,
           _varty =
             TyRef (TyAdt "alloc/2414878::string[0]::String[0]" []) Immut,
           _varscope = "scope0", _varpos = "src/main.rs:26:13: 26:18"}],
    _freturn_ty = TyTuple [],
    _fbody =
      MirBody{_mvars =
                [Var{_varname = "_0", _varmut = Mut, _varty = TyTuple [],
                     _varscope = "scope0", _varpos = "src/main.rs:26:5: 28:6"},
                 Var{_varname = "_2", _varmut = Immut,
                     _varty =
                       TyRef (TyAdt "alloc/2414878::string[0]::String[0]" []) Immut,
                     _varscope = "scope1", _varpos = "src/main.rs:26:13: 26:18"},
                 Var{_varname = "_3", _varmut = Mut, _varty = TyInt B32,
                     _varscope = "scope0", _varpos = "src/main.rs:27:9: 27:12"},
                 Var{_varname = "_4", _varmut = Mut,
                     _varty = TyTuple [TyInt B32, TyBool], _varscope = "scope0",
                     _varpos = "src/main.rs:27:9: 27:12"}],
              _mblocks =
                [BasicBlock{_bbinfo = "bb0",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_2",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "alloc/2414878::string[0]::String[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope1",
                                                                          _varpos =
                                                                            "src/main.rs:26:13: 26:18"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_2",
                                                                     _varmut = Immut,
                                                                     _varty =
                                                                       TyRef
                                                                         (TyAdt
                                                                            "alloc/2414878::string[0]::String[0]"
                                                                            [])
                                                                         Immut,
                                                                     _varscope = "scope1",
                                                                     _varpos =
                                                                       "src/main.rs:26:13: 26:18"}},
                                                       _arhs =
                                                         Use{_uop =
                                                               Consume
                                                                 (Local{_lvar =
                                                                          Var{_varname = "_1",
                                                                              _varmut = Immut,
                                                                              _varty =
                                                                                TyRef
                                                                                  (TyAdt
                                                                                     "alloc/2414878::string[0]::String[0]"
                                                                                     [])
                                                                                  Immut,
                                                                              _varscope = "scope0",
                                                                              _varpos =
                                                                                "src/main.rs:26:13: 26:18"}})},
                                                       _apos = "src/main.rs:26:13: 26:18"},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_4", _varmut = Mut,
                                                                     _varty =
                                                                       TyTuple [TyInt B32, TyBool],
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:27:9: 27:12"}},
                                                       _arhs =
                                                         CheckedBinaryOp{_cbop = Add,
                                                                         _cbop1 =
                                                                           OpConstant
                                                                             (Constant{_conty =
                                                                                         TyInt B32,
                                                                                       _conliteral =
                                                                                         Value
                                                                                           (ConstInt
                                                                                              (I32
                                                                                                 1))}),
                                                                         _cbop2 =
                                                                           OpConstant
                                                                             (Constant{_conty =
                                                                                         TyInt B32,
                                                                                       _conliteral =
                                                                                         Value
                                                                                           (ConstInt
                                                                                              (I32
                                                                                                 1))})},
                                                       _apos = "src/main.rs:27:9: 27:12"}],
                                             _bbterminator =
                                               Assert{_acond =
                                                        Consume
                                                          (LProjection
                                                             (LvalueProjection{_lvpbase =
                                                                                 Local{_lvar =
                                                                                         Var{_varname
                                                                                               =
                                                                                               "_4",
                                                                                             _varmut
                                                                                               =
                                                                                               Mut,
                                                                                             _varty
                                                                                               =
                                                                                               TyTuple
                                                                                                 [TyInt
                                                                                                    B32,
                                                                                                  TyBool],
                                                                                             _varscope
                                                                                               =
                                                                                               "scope0",
                                                                                             _varpos
                                                                                               =
                                                                                               "src/main.rs:27:9: 27:12"}},
                                                                               _lvpkind =
                                                                                 PField 1 TyBool})),
                                                      _aexpected = False,
                                                      _amsg = "Math(Overflow(Add))",
                                                      _atarget = "bb1", _acleanup = Nothing}}},
                 BasicBlock{_bbinfo = "bb1",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_3", _varmut = Mut,
                                                                     _varty = TyInt B32,
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:27:9: 27:12"}},
                                                       _arhs =
                                                         Use{_uop =
                                                               Consume
                                                                 (LProjection
                                                                    (LvalueProjection{_lvpbase =
                                                                                        Local{_lvar
                                                                                                =
                                                                                                Var{_varname
                                                                                                      =
                                                                                                      "_4",
                                                                                                    _varmut
                                                                                                      =
                                                                                                      Mut,
                                                                                                    _varty
                                                                                                      =
                                                                                                      TyTuple
                                                                                                        [TyInt
                                                                                                           B32,
                                                                                                         TyBool],
                                                                                                    _varscope
                                                                                                      =
                                                                                                      "scope0",
                                                                                                    _varpos
                                                                                                      =
                                                                                                      "src/main.rs:27:9: 27:12"}},
                                                                                      _lvpkind =
                                                                                        PField 0
                                                                                          (TyInt
                                                                                             B32)}))},
                                                       _apos = "src/main.rs:27:9: 27:12"},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_0", _varmut = Mut,
                                                                     _varty = TyTuple [],
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:26:5: 28:6"}},
                                                       _arhs = Aggregate{_ak = AKTuple, _ops = []},
                                                       _apos = "src/main.rs:26:26: 28:6"},
                                                StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_2",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "alloc/2414878::string[0]::String[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope1",
                                                                          _varpos =
                                                                            "src/main.rs:26:13: 26:18"}}}],
                                             _bbterminator = Return}}]}},
 Fn{_fname = "::Data[0]::{{constructor}}[0]",
    _fargs =
      [Var{_varname = "_1", _varmut = Immut, _varty = TyUint B32,
           _varscope = "scope0", _varpos = "src/main.rs:13:1: 13:18"}],
    _freturn_ty = TyAdt "traits/8b70a08::Data[0]" [],
    _fbody =
      MirBody{_mvars =
                [Var{_varname = "_0", _varmut = Mut,
                     _varty = TyAdt "traits/8b70a08::Data[0]" [], _varscope = "scope0",
                     _varpos = "src/main.rs:13:1: 13:18"}],
              _mblocks =
                [BasicBlock{_bbinfo = "bb0",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_0", _varmut = Mut,
                                                                     _varty =
                                                                       TyAdt
                                                                         "traits/8b70a08::Data[0]"
                                                                         [],
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:13:1: 13:18"}},
                                                       _arhs =
                                                         RAdtAg
                                                           (AdtAg{_agadt =
                                                                    Adt{_adtname =
                                                                          "traits/8b70a08::Data[0]",
                                                                        _adtvariants =
                                                                          [Variant{_vname =
                                                                                     "traits/8b70a08::Data[0]::{{constructor}}[0]",
                                                                                   _vdiscr =
                                                                                     Relative 0,
                                                                                   _vfields =
                                                                                     [Field{_fName =
                                                                                              "traits/8b70a08::Data[0]::0[0]",
                                                                                            _fty =
                                                                                              TyUint
                                                                                                B32,
                                                                                            _fsubsts
                                                                                              =
                                                                                              []}],
                                                                                   _vctorkind =
                                                                                     FnKind}]},
                                                                  _avgariant = 0,
                                                                  _aops =
                                                                    [Consume
                                                                       (Local{_lvar =
                                                                                Var{_varname = "_1",
                                                                                    _varmut = Immut,
                                                                                    _varty =
                                                                                      TyUint B32,
                                                                                    _varscope =
                                                                                      "scope0",
                                                                                    _varpos =
                                                                                      "src/main.rs:13:1: 13:18"}})]}),
                                                       _apos = "src/main.rs:13:1: 13:18"}],
                                             _bbterminator = Return}}]}},
 Fn{_fname = "::main[0]", _fargs = [], _freturn_ty = TyTuple [],
    _fbody =
      MirBody{_mvars =
                [Var{_varname = "_0", _varmut = Mut, _varty = TyTuple [],
                     _varscope = "scope0", _varpos = "src/main.rs:3:1: 11:2"},
                 Var{_varname = "_1", _varmut = Immut,
                     _varty =
                       TyAdt "alloc/2414878::vec[0]::Vec[0]"
                         [Just (TyAdt "alloc/2414878::string[0]::String[0]" [])],
                     _varscope = "scope1", _varpos = "src/main.rs:4:8: 4:12"},
                 Var{_varname = "_2", _varmut = Mut,
                     _varty = TyAdt "std/1a0651a::env[0]::Args[0]" [],
                     _varscope = "scope0", _varpos = "src/main.rs:4:28: 4:39"},
                 Var{_varname = "_3", _varmut = Immut,
                     _varty =
                       TyRef (TyAdt "alloc/2414878::string[0]::String[0]" []) Immut,
                     _varscope = "scope2", _varpos = "src/main.rs:6:8: 6:14"},
                 Var{_varname = "_4", _varmut = Mut,
                     _varty =
                       TyRef (TyAdt "alloc/2414878::string[0]::String[0]" []) Immut,
                     _varscope = "scope0", _varpos = "src/main.rs:6:18: 6:25"},
                 Var{_varname = "_5", _varmut = Mut,
                     _varty =
                       TyRef
                         (TyAdt "alloc/2414878::vec[0]::Vec[0]"
                            [Just (TyAdt "alloc/2414878::string[0]::String[0]" [])])
                         Immut,
                     _varscope = "scope0", _varpos = "src/main.rs:6:18: 6:22"},
                 Var{_varname = "_6", _varmut = Immut,
                     _varty = TyAdt "traits/8b70a08::Data[0]" [], _varscope = "scope3",
                     _varpos = "src/main.rs:7:8: 7:9"},
                 Var{_varname = "_7", _varmut = Immut,
                     _varty = TyAdt "alloc/2414878::string[0]::String[0]" [],
                     _varscope = "scope4", _varpos = "src/main.rs:8:8: 8:9"},
                 Var{_varname = "_8", _varmut = Mut, _varty = TyBool,
                     _varscope = "scope0", _varpos = "src/main.rs:9:7: 9:20"},
                 Var{_varname = "_9", _varmut = Mut,
                     _varty =
                       TyRef
                         (TyRef (TyAdt "alloc/2414878::string[0]::String[0]" []) Immut)
                         Immut,
                     _varscope = "scope0", _varpos = "src/main.rs:9:7: 9:13"},
                 Var{_varname = "_10", _varmut = Mut,
                     _varty = TyRef (TyRef TyStr Immut) Immut, _varscope = "scope0",
                     _varpos = "src/main.rs:9:17: 9:20"},
                 Var{_varname = "_11", _varmut = Mut, _varty = TyTuple [],
                     _varscope = "scope0", _varpos = "src/main.rs:9:23: 9:30"},
                 Var{_varname = "_12", _varmut = Mut,
                     _varty = TyRef (TyDynamic "::Foo[0]") Immut, _varscope = "scope0",
                     _varpos = "src/main.rs:9:27: 9:29"},
                 Var{_varname = "_13", _varmut = Mut,
                     _varty = TyRef (TyAdt "traits/8b70a08::Data[0]" []) Immut,
                     _varscope = "scope0", _varpos = "src/main.rs:9:27: 9:29"},
                 Var{_varname = "_14", _varmut = Mut,
                     _varty = TyRef (TyAdt "traits/8b70a08::Data[0]" []) Immut,
                     _varscope = "scope0", _varpos = "src/main.rs:9:27: 9:29"},
                 Var{_varname = "_15", _varmut = Mut, _varty = TyTuple [],
                     _varscope = "scope0", _varpos = "src/main.rs:10:10: 10:17"},
                 Var{_varname = "_16", _varmut = Mut,
                     _varty = TyRef (TyDynamic "::Foo[0]") Immut, _varscope = "scope0",
                     _varpos = "src/main.rs:10:14: 10:16"},
                 Var{_varname = "_17", _varmut = Mut,
                     _varty =
                       TyRef (TyAdt "alloc/2414878::string[0]::String[0]" []) Immut,
                     _varscope = "scope0", _varpos = "src/main.rs:10:14: 10:16"},
                 Var{_varname = "_18", _varmut = Mut,
                     _varty =
                       TyRef (TyAdt "alloc/2414878::string[0]::String[0]" []) Immut,
                     _varscope = "scope0", _varpos = "src/main.rs:10:14: 10:16"}],
              _mblocks =
                [BasicBlock{_bbinfo = "bb0",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_1",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyAdt
                                                                              "alloc/2414878::vec[0]::Vec[0]"
                                                                              [Just
                                                                                 (TyAdt
                                                                                    "alloc/2414878::string[0]::String[0]"
                                                                                    [])],
                                                                          _varscope = "scope1",
                                                                          _varpos =
                                                                            "src/main.rs:4:8: 4:12"}}},
                                                StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_2",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyAdt
                                                                              "std/1a0651a::env[0]::Args[0]"
                                                                              [],
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:4:28: 4:39"}}}],
                                             _bbterminator =
                                               Call{_cfunc =
                                                      OpConstant
                                                        (Constant{_conty =
                                                                    TyFnDef "::env[0]::args[0]" [],
                                                                  _conliteral =
                                                                    Value
                                                                      (ConstFunction
                                                                         "::env[0]::args[0]"
                                                                         [])}),
                                                    _cargs = [],
                                                    _cdest =
                                                      Just
                                                        (Local{_lvar =
                                                                 Var{_varname = "_2", _varmut = Mut,
                                                                     _varty =
                                                                       TyAdt
                                                                         "std/1a0651a::env[0]::Args[0]"
                                                                         [],
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:4:28: 4:39"}},
                                                         "bb1"),
                                                    _cleanup = Nothing}}},
                 BasicBlock{_bbinfo = "bb1",
                            _bbdata =
                              BasicBlockData{_bbstmts = [],
                                             _bbterminator =
                                               Call{_cfunc =
                                                      OpConstant
                                                        (Constant{_conty =
                                                                    TyFnDef
                                                                      "::iter[0]::iterator[0]::Iterator[0]::collect[0]"
                                                                      [Just
                                                                         (TyAdt
                                                                            "std/1a0651a::env[0]::Args[0]"
                                                                            []),
                                                                       Just
                                                                         (TyAdt
                                                                            "alloc/2414878::vec[0]::Vec[0]"
                                                                            [Just
                                                                               (TyAdt
                                                                                  "alloc/2414878::string[0]::String[0]"
                                                                                  [])])],
                                                                  _conliteral =
                                                                    Value
                                                                      (ConstFunction
                                                                         "::iter[0]::iterator[0]::Iterator[0]::collect[0]"
                                                                         [Just
                                                                            (TyAdt
                                                                               "std/1a0651a::env[0]::Args[0]"
                                                                               []),
                                                                          Just
                                                                            (TyAdt
                                                                               "alloc/2414878::vec[0]::Vec[0]"
                                                                               [Just
                                                                                  (TyAdt
                                                                                     "alloc/2414878::string[0]::String[0]"
                                                                                     [])])])}),
                                                    _cargs =
                                                      [Consume
                                                         (Local{_lvar =
                                                                  Var{_varname = "_2",
                                                                      _varmut = Mut,
                                                                      _varty =
                                                                        TyAdt
                                                                          "std/1a0651a::env[0]::Args[0]"
                                                                          [],
                                                                      _varscope = "scope0",
                                                                      _varpos =
                                                                        "src/main.rs:4:28: 4:39"}})],
                                                    _cdest =
                                                      Just
                                                        (Local{_lvar =
                                                                 Var{_varname = "_1",
                                                                     _varmut = Immut,
                                                                     _varty =
                                                                       TyAdt
                                                                         "alloc/2414878::vec[0]::Vec[0]"
                                                                         [Just
                                                                            (TyAdt
                                                                               "alloc/2414878::string[0]::String[0]"
                                                                               [])],
                                                                     _varscope = "scope1",
                                                                     _varpos =
                                                                       "src/main.rs:4:8: 4:12"}},
                                                         "bb3"),
                                                    _cleanup = Nothing}}},
                 BasicBlock{_bbinfo = "bb2",
                            _bbdata = BasicBlockData{_bbstmts = [], _bbterminator = Resume}},
                 BasicBlock{_bbinfo = "bb3",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_2",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyAdt
                                                                              "std/1a0651a::env[0]::Args[0]"
                                                                              [],
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:4:28: 4:39"}}},
                                                StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_3",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "alloc/2414878::string[0]::String[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope2",
                                                                          _varpos =
                                                                            "src/main.rs:6:8: 6:14"}}},
                                                StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_4",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "alloc/2414878::string[0]::String[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:6:18: 6:25"}}},
                                                StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_5",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "alloc/2414878::vec[0]::Vec[0]"
                                                                                 [Just
                                                                                    (TyAdt
                                                                                       "alloc/2414878::string[0]::String[0]"
                                                                                       [])])
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:6:18: 6:22"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_5", _varmut = Mut,
                                                                     _varty =
                                                                       TyRef
                                                                         (TyAdt
                                                                            "alloc/2414878::vec[0]::Vec[0]"
                                                                            [Just
                                                                               (TyAdt
                                                                                  "alloc/2414878::string[0]::String[0]"
                                                                                  [])])
                                                                         Immut,
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:6:18: 6:22"}},
                                                       _arhs =
                                                         Ref{_rbk = Shared,
                                                             _rvar =
                                                               Local{_lvar =
                                                                       Var{_varname = "_1",
                                                                           _varmut = Immut,
                                                                           _varty =
                                                                             TyAdt
                                                                               "alloc/2414878::vec[0]::Vec[0]"
                                                                               [Just
                                                                                  (TyAdt
                                                                                     "alloc/2414878::string[0]::String[0]"
                                                                                     [])],
                                                                           _varscope = "scope1",
                                                                           _varpos =
                                                                             "src/main.rs:4:8: 4:12"}},
                                                             _rregion = "unimplement"},
                                                       _apos = "src/main.rs:6:18: 6:22"}],
                                             _bbterminator =
                                               Call{_cfunc =
                                                      OpConstant
                                                        (Constant{_conty =
                                                                    TyFnDef
                                                                      "::ops[0]::index[0]::Index[0]::index[0]"
                                                                      [Just
                                                                         (TyAdt
                                                                            "alloc/2414878::vec[0]::Vec[0]"
                                                                            [Just
                                                                               (TyAdt
                                                                                  "alloc/2414878::string[0]::String[0]"
                                                                                  [])]),
                                                                       Just (TyUint USize)],
                                                                  _conliteral =
                                                                    Value
                                                                      (ConstFunction
                                                                         "::ops[0]::index[0]::Index[0]::index[0]"
                                                                         [Just
                                                                            (TyAdt
                                                                               "alloc/2414878::vec[0]::Vec[0]"
                                                                               [Just
                                                                                  (TyAdt
                                                                                     "alloc/2414878::string[0]::String[0]"
                                                                                     [])]),
                                                                          Just (TyUint USize)])}),
                                                    _cargs =
                                                      [Consume
                                                         (Local{_lvar =
                                                                  Var{_varname = "_5",
                                                                      _varmut = Mut,
                                                                      _varty =
                                                                        TyRef
                                                                          (TyAdt
                                                                             "alloc/2414878::vec[0]::Vec[0]"
                                                                             [Just
                                                                                (TyAdt
                                                                                   "alloc/2414878::string[0]::String[0]"
                                                                                   [])])
                                                                          Immut,
                                                                      _varscope = "scope0",
                                                                      _varpos =
                                                                        "src/main.rs:6:18: 6:22"}}),
                                                       OpConstant
                                                         (Constant{_conty = TyUint USize,
                                                                   _conliteral =
                                                                     Value (ConstInt (Usize 1))})],
                                                    _cdest =
                                                      Just
                                                        (Local{_lvar =
                                                                 Var{_varname = "_4", _varmut = Mut,
                                                                     _varty =
                                                                       TyRef
                                                                         (TyAdt
                                                                            "alloc/2414878::string[0]::String[0]"
                                                                            [])
                                                                         Immut,
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:6:18: 6:25"}},
                                                         "bb4"),
                                                    _cleanup = Just "bb6"}}},
                 BasicBlock{_bbinfo = "bb4",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_5",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "alloc/2414878::vec[0]::Vec[0]"
                                                                                 [Just
                                                                                    (TyAdt
                                                                                       "alloc/2414878::string[0]::String[0]"
                                                                                       [])])
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:6:18: 6:22"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_3",
                                                                     _varmut = Immut,
                                                                     _varty =
                                                                       TyRef
                                                                         (TyAdt
                                                                            "alloc/2414878::string[0]::String[0]"
                                                                            [])
                                                                         Immut,
                                                                     _varscope = "scope2",
                                                                     _varpos =
                                                                       "src/main.rs:6:8: 6:14"}},
                                                       _arhs =
                                                         Use{_uop =
                                                               Consume
                                                                 (Local{_lvar =
                                                                          Var{_varname = "_4",
                                                                              _varmut = Mut,
                                                                              _varty =
                                                                                TyRef
                                                                                  (TyAdt
                                                                                     "alloc/2414878::string[0]::String[0]"
                                                                                     [])
                                                                                  Immut,
                                                                              _varscope = "scope0",
                                                                              _varpos =
                                                                                "src/main.rs:6:18: 6:25"}})},
                                                       _apos = "src/main.rs:6:17: 6:25"},
                                                StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_6",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyAdt
                                                                              "traits/8b70a08::Data[0]"
                                                                              [],
                                                                          _varscope = "scope3",
                                                                          _varpos =
                                                                            "src/main.rs:7:8: 7:9"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_6",
                                                                     _varmut = Immut,
                                                                     _varty =
                                                                       TyAdt
                                                                         "traits/8b70a08::Data[0]"
                                                                         [],
                                                                     _varscope = "scope3",
                                                                     _varpos =
                                                                       "src/main.rs:7:8: 7:9"}},
                                                       _arhs =
                                                         RAdtAg
                                                           (AdtAg{_agadt =
                                                                    Adt{_adtname =
                                                                          "traits/8b70a08::Data[0]",
                                                                        _adtvariants =
                                                                          [Variant{_vname =
                                                                                     "traits/8b70a08::Data[0]::{{constructor}}[0]",
                                                                                   _vdiscr =
                                                                                     Relative 0,
                                                                                   _vfields =
                                                                                     [Field{_fName =
                                                                                              "traits/8b70a08::Data[0]::0[0]",
                                                                                            _fty =
                                                                                              TyUint
                                                                                                B32,
                                                                                            _fsubsts
                                                                                              =
                                                                                              []}],
                                                                                   _vctorkind =
                                                                                     FnKind}]},
                                                                  _avgariant = 0,
                                                                  _aops =
                                                                    [OpConstant
                                                                       (Constant{_conty =
                                                                                   TyUint B32,
                                                                                 _conliteral =
                                                                                   Value
                                                                                     (ConstInt
                                                                                        (U32
                                                                                           32))})]}),
                                                       _apos = "src/main.rs:7:12: 7:20"},
                                                StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_7",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyAdt
                                                                              "alloc/2414878::string[0]::String[0]"
                                                                              [],
                                                                          _varscope = "scope4",
                                                                          _varpos =
                                                                            "src/main.rs:8:8: 8:9"}}},
                                                Nop],
                                             _bbterminator =
                                               Call{_cfunc =
                                                      OpConstant
                                                        (Constant{_conty =
                                                                    TyFnDef
                                                                      "::convert[0]::From[0]::from[0]"
                                                                      [Just
                                                                         (TyAdt
                                                                            "alloc/2414878::string[0]::String[0]"
                                                                            []),
                                                                       Just (TyRef TyStr Immut)],
                                                                  _conliteral =
                                                                    Value
                                                                      (ConstFunction
                                                                         "::convert[0]::From[0]::from[0]"
                                                                         [Just
                                                                            (TyAdt
                                                                               "alloc/2414878::string[0]::String[0]"
                                                                               []),
                                                                          Just
                                                                            (TyRef TyStr Immut)])}),
                                                    _cargs =
                                                      [OpConstant
                                                         (Constant{_conty = TyRef TyStr Immut,
                                                                   _conliteral =
                                                                     Value (ConstStr "hello")})],
                                                    _cdest =
                                                      Just
                                                        (Local{_lvar =
                                                                 Var{_varname = "_7",
                                                                     _varmut = Immut,
                                                                     _varty =
                                                                       TyAdt
                                                                         "alloc/2414878::string[0]::String[0]"
                                                                         [],
                                                                     _varscope = "scope4",
                                                                     _varpos =
                                                                       "src/main.rs:8:8: 8:9"}},
                                                         "bb7"),
                                                    _cleanup = Just "bb8"}}},
                 BasicBlock{_bbinfo = "bb5",
                            _bbdata =
                              BasicBlockData{_bbstmts = [],
                                             _bbterminator =
                                               Drop{_dloc =
                                                      Local{_lvar =
                                                              Var{_varname = "_1", _varmut = Immut,
                                                                  _varty =
                                                                    TyAdt
                                                                      "alloc/2414878::vec[0]::Vec[0]"
                                                                      [Just
                                                                         (TyAdt
                                                                            "alloc/2414878::string[0]::String[0]"
                                                                            [])],
                                                                  _varscope = "scope1",
                                                                  _varpos =
                                                                    "src/main.rs:4:8: 4:12"}},
                                                    _dtarget = "bb2", _dunwind = Nothing}}},
                 BasicBlock{_bbinfo = "bb6",
                            _bbdata =
                              BasicBlockData{_bbstmts = [Nop],
                                             _bbterminator = Goto{_gbb = "bb5"}}},
                 BasicBlock{_bbinfo = "bb7",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_8",
                                                                          _varmut = Mut,
                                                                          _varty = TyBool,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:9:7: 9:20"}}},
                                                StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_9",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyRef
                                                                                 (TyAdt
                                                                                    "alloc/2414878::string[0]::String[0]"
                                                                                    [])
                                                                                 Immut)
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:9:7: 9:13"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_9", _varmut = Mut,
                                                                     _varty =
                                                                       TyRef
                                                                         (TyRef
                                                                            (TyAdt
                                                                               "alloc/2414878::string[0]::String[0]"
                                                                               [])
                                                                            Immut)
                                                                         Immut,
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:9:7: 9:13"}},
                                                       _arhs =
                                                         Ref{_rbk = Shared,
                                                             _rvar =
                                                               Local{_lvar =
                                                                       Var{_varname = "_3",
                                                                           _varmut = Immut,
                                                                           _varty =
                                                                             TyRef
                                                                               (TyAdt
                                                                                  "alloc/2414878::string[0]::String[0]"
                                                                                  [])
                                                                               Immut,
                                                                           _varscope = "scope2",
                                                                           _varpos =
                                                                             "src/main.rs:6:8: 6:14"}},
                                                             _rregion = "unimplement"},
                                                       _apos = "src/main.rs:9:7: 9:13"},
                                                StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_10",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyRef TyStr Immut)
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:9:17: 9:20"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_10",
                                                                     _varmut = Mut,
                                                                     _varty =
                                                                       TyRef (TyRef TyStr Immut)
                                                                         Immut,
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:9:17: 9:20"}},
                                                       _arhs =
                                                         Use{_uop =
                                                               OpConstant
                                                                 (Constant{_conty =
                                                                             TyRef
                                                                               (TyRef TyStr Immut)
                                                                               Immut,
                                                                           _conliteral =
                                                                             LPromoted
                                                                               "promoted0"})},
                                                       _apos = "src/main.rs:9:17: 9:20"}],
                                             _bbterminator =
                                               Call{_cfunc =
                                                      OpConstant
                                                        (Constant{_conty =
                                                                    TyFnDef
                                                                      "::cmp[0]::PartialEq[0]::eq[0]"
                                                                      [Just
                                                                         (TyRef
                                                                            (TyAdt
                                                                               "alloc/2414878::string[0]::String[0]"
                                                                               [])
                                                                            Immut),
                                                                       Just (TyRef TyStr Immut)],
                                                                  _conliteral =
                                                                    Value
                                                                      (ConstFunction
                                                                         "::cmp[0]::PartialEq[0]::eq[0]"
                                                                         [Just
                                                                            (TyRef
                                                                               (TyAdt
                                                                                  "alloc/2414878::string[0]::String[0]"
                                                                                  [])
                                                                               Immut),
                                                                          Just
                                                                            (TyRef TyStr Immut)])}),
                                                    _cargs =
                                                      [Consume
                                                         (Local{_lvar =
                                                                  Var{_varname = "_9",
                                                                      _varmut = Mut,
                                                                      _varty =
                                                                        TyRef
                                                                          (TyRef
                                                                             (TyAdt
                                                                                "alloc/2414878::string[0]::String[0]"
                                                                                [])
                                                                             Immut)
                                                                          Immut,
                                                                      _varscope = "scope0",
                                                                      _varpos =
                                                                        "src/main.rs:9:7: 9:13"}}),
                                                       Consume
                                                         (Local{_lvar =
                                                                  Var{_varname = "_10",
                                                                      _varmut = Mut,
                                                                      _varty =
                                                                        TyRef (TyRef TyStr Immut)
                                                                          Immut,
                                                                      _varscope = "scope0",
                                                                      _varpos =
                                                                        "src/main.rs:9:17: 9:20"}})],
                                                    _cdest =
                                                      Just
                                                        (Local{_lvar =
                                                                 Var{_varname = "_8", _varmut = Mut,
                                                                     _varty = TyBool,
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:9:7: 9:20"}},
                                                         "bb9"),
                                                    _cleanup = Just "bb12"}}},
                 BasicBlock{_bbinfo = "bb8",
                            _bbdata =
                              BasicBlockData{_bbstmts = [Nop],
                                             _bbterminator = Goto{_gbb = "bb5"}}},
                 BasicBlock{_bbinfo = "bb9",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_10",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyRef TyStr Immut)
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:9:17: 9:20"}}},
                                                StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_9",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyRef
                                                                                 (TyAdt
                                                                                    "alloc/2414878::string[0]::String[0]"
                                                                                    [])
                                                                                 Immut)
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:9:7: 9:13"}}},
                                                Nop],
                                             _bbterminator =
                                               SwitchInt{_sdiscr =
                                                           Consume
                                                             (Local{_lvar =
                                                                      Var{_varname = "_8",
                                                                          _varmut = Mut,
                                                                          _varty = TyBool,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:9:7: 9:20"}}),
                                                         _switch_ty = TyBool, _svalues = [Just 0],
                                                         _stargets = ["bb14", "bb13"]}}},
                 BasicBlock{_bbinfo = "bb10",
                            _bbdata =
                              BasicBlockData{_bbstmts = [Nop],
                                             _bbterminator = Goto{_gbb = "bb5"}}},
                 BasicBlock{_bbinfo = "bb11",
                            _bbdata =
                              BasicBlockData{_bbstmts = [],
                                             _bbterminator =
                                               Drop{_dloc =
                                                      Local{_lvar =
                                                              Var{_varname = "_7", _varmut = Immut,
                                                                  _varty =
                                                                    TyAdt
                                                                      "alloc/2414878::string[0]::String[0]"
                                                                      [],
                                                                  _varscope = "scope4",
                                                                  _varpos =
                                                                    "src/main.rs:8:8: 8:9"}},
                                                    _dtarget = "bb10", _dunwind = Nothing}}},
                 BasicBlock{_bbinfo = "bb12",
                            _bbdata =
                              BasicBlockData{_bbstmts = [Nop],
                                             _bbterminator = Goto{_gbb = "bb11"}}},
                 BasicBlock{_bbinfo = "bb13",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_12",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyDynamic "::Foo[0]")
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:9:27: 9:29"}}},
                                                StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_13",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "traits/8b70a08::Data[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:9:27: 9:29"}}},
                                                StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_14",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "traits/8b70a08::Data[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:9:27: 9:29"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_14",
                                                                     _varmut = Mut,
                                                                     _varty =
                                                                       TyRef
                                                                         (TyAdt
                                                                            "traits/8b70a08::Data[0]"
                                                                            [])
                                                                         Immut,
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:9:27: 9:29"}},
                                                       _arhs =
                                                         Ref{_rbk = Shared,
                                                             _rvar =
                                                               Local{_lvar =
                                                                       Var{_varname = "_6",
                                                                           _varmut = Immut,
                                                                           _varty =
                                                                             TyAdt
                                                                               "traits/8b70a08::Data[0]"
                                                                               [],
                                                                           _varscope = "scope3",
                                                                           _varpos =
                                                                             "src/main.rs:7:8: 7:9"}},
                                                             _rregion = "unimplement"},
                                                       _apos = "src/main.rs:9:27: 9:29"},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_13",
                                                                     _varmut = Mut,
                                                                     _varty =
                                                                       TyRef
                                                                         (TyAdt
                                                                            "traits/8b70a08::Data[0]"
                                                                            [])
                                                                         Immut,
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:9:27: 9:29"}},
                                                       _arhs =
                                                         Use{_uop =
                                                               Consume
                                                                 (Local{_lvar =
                                                                          Var{_varname = "_14",
                                                                              _varmut = Mut,
                                                                              _varty =
                                                                                TyRef
                                                                                  (TyAdt
                                                                                     "traits/8b70a08::Data[0]"
                                                                                     [])
                                                                                  Immut,
                                                                              _varscope = "scope0",
                                                                              _varpos =
                                                                                "src/main.rs:9:27: 9:29"}})},
                                                       _apos = "src/main.rs:9:27: 9:29"},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_12",
                                                                     _varmut = Mut,
                                                                     _varty =
                                                                       TyRef (TyDynamic "::Foo[0]")
                                                                         Immut,
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:9:27: 9:29"}},
                                                       _arhs =
                                                         Cast{_cck = Unsize,
                                                              _cop =
                                                                Consume
                                                                  (Local{_lvar =
                                                                           Var{_varname = "_13",
                                                                               _varmut = Mut,
                                                                               _varty =
                                                                                 TyRef
                                                                                   (TyAdt
                                                                                      "traits/8b70a08::Data[0]"
                                                                                      [])
                                                                                   Immut,
                                                                               _varscope = "scope0",
                                                                               _varpos =
                                                                                 "src/main.rs:9:27: 9:29"}}),
                                                              _cty =
                                                                TyRef (TyDynamic "::Foo[0]") Immut},
                                                       _apos = "src/main.rs:9:27: 9:29"},
                                                StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_13",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "traits/8b70a08::Data[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:9:27: 9:29"}}}],
                                             _bbterminator =
                                               Call{_cfunc =
                                                      OpConstant
                                                        (Constant{_conty = TyFnDef "::fun[0]" [],
                                                                  _conliteral =
                                                                    Value
                                                                      (ConstFunction "::fun[0]"
                                                                         [])}),
                                                    _cargs =
                                                      [Consume
                                                         (Local{_lvar =
                                                                  Var{_varname = "_12",
                                                                      _varmut = Mut,
                                                                      _varty =
                                                                        TyRef (TyDynamic "::Foo[0]")
                                                                          Immut,
                                                                      _varscope = "scope0",
                                                                      _varpos =
                                                                        "src/main.rs:9:27: 9:29"}})],
                                                    _cdest =
                                                      Just
                                                        (Local{_lvar =
                                                                 Var{_varname = "_11",
                                                                     _varmut = Mut,
                                                                     _varty = TyTuple [],
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:9:23: 9:30"}},
                                                         "bb15"),
                                                    _cleanup = Just "bb16"}}},
                 BasicBlock{_bbinfo = "bb14",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_16",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyDynamic "::Foo[0]")
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:10:14: 10:16"}}},
                                                StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_17",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "alloc/2414878::string[0]::String[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:10:14: 10:16"}}},
                                                StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_18",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "alloc/2414878::string[0]::String[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:10:14: 10:16"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_18",
                                                                     _varmut = Mut,
                                                                     _varty =
                                                                       TyRef
                                                                         (TyAdt
                                                                            "alloc/2414878::string[0]::String[0]"
                                                                            [])
                                                                         Immut,
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:10:14: 10:16"}},
                                                       _arhs =
                                                         Ref{_rbk = Shared,
                                                             _rvar =
                                                               Local{_lvar =
                                                                       Var{_varname = "_7",
                                                                           _varmut = Immut,
                                                                           _varty =
                                                                             TyAdt
                                                                               "alloc/2414878::string[0]::String[0]"
                                                                               [],
                                                                           _varscope = "scope4",
                                                                           _varpos =
                                                                             "src/main.rs:8:8: 8:9"}},
                                                             _rregion = "unimplement"},
                                                       _apos = "src/main.rs:10:14: 10:16"},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_17",
                                                                     _varmut = Mut,
                                                                     _varty =
                                                                       TyRef
                                                                         (TyAdt
                                                                            "alloc/2414878::string[0]::String[0]"
                                                                            [])
                                                                         Immut,
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:10:14: 10:16"}},
                                                       _arhs =
                                                         Use{_uop =
                                                               Consume
                                                                 (Local{_lvar =
                                                                          Var{_varname = "_18",
                                                                              _varmut = Mut,
                                                                              _varty =
                                                                                TyRef
                                                                                  (TyAdt
                                                                                     "alloc/2414878::string[0]::String[0]"
                                                                                     [])
                                                                                  Immut,
                                                                              _varscope = "scope0",
                                                                              _varpos =
                                                                                "src/main.rs:10:14: 10:16"}})},
                                                       _apos = "src/main.rs:10:14: 10:16"},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_16",
                                                                     _varmut = Mut,
                                                                     _varty =
                                                                       TyRef (TyDynamic "::Foo[0]")
                                                                         Immut,
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:10:14: 10:16"}},
                                                       _arhs =
                                                         Cast{_cck = Unsize,
                                                              _cop =
                                                                Consume
                                                                  (Local{_lvar =
                                                                           Var{_varname = "_17",
                                                                               _varmut = Mut,
                                                                               _varty =
                                                                                 TyRef
                                                                                   (TyAdt
                                                                                      "alloc/2414878::string[0]::String[0]"
                                                                                      [])
                                                                                   Immut,
                                                                               _varscope = "scope0",
                                                                               _varpos =
                                                                                 "src/main.rs:10:14: 10:16"}}),
                                                              _cty =
                                                                TyRef (TyDynamic "::Foo[0]") Immut},
                                                       _apos = "src/main.rs:10:14: 10:16"},
                                                StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_17",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "alloc/2414878::string[0]::String[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:10:14: 10:16"}}}],
                                             _bbterminator =
                                               Call{_cfunc =
                                                      OpConstant
                                                        (Constant{_conty = TyFnDef "::fun[0]" [],
                                                                  _conliteral =
                                                                    Value
                                                                      (ConstFunction "::fun[0]"
                                                                         [])}),
                                                    _cargs =
                                                      [Consume
                                                         (Local{_lvar =
                                                                  Var{_varname = "_16",
                                                                      _varmut = Mut,
                                                                      _varty =
                                                                        TyRef (TyDynamic "::Foo[0]")
                                                                          Immut,
                                                                      _varscope = "scope0",
                                                                      _varpos =
                                                                        "src/main.rs:10:14: 10:16"}})],
                                                    _cdest =
                                                      Just
                                                        (Local{_lvar =
                                                                 Var{_varname = "_15",
                                                                     _varmut = Mut,
                                                                     _varty = TyTuple [],
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:10:10: 10:17"}},
                                                         "bb17"),
                                                    _cleanup = Just "bb18"}}},
                 BasicBlock{_bbinfo = "bb15",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_12",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyDynamic "::Foo[0]")
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:9:27: 9:29"}}},
                                                Nop,
                                                StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_14",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "traits/8b70a08::Data[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:9:27: 9:29"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_0", _varmut = Mut,
                                                                     _varty = TyTuple [],
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:3:1: 11:2"}},
                                                       _arhs = Aggregate{_ak = AKTuple, _ops = []},
                                                       _apos = "src/main.rs:9:21: 9:32"}],
                                             _bbterminator = Goto{_gbb = "bb19"}}},
                 BasicBlock{_bbinfo = "bb16",
                            _bbdata =
                              BasicBlockData{_bbstmts = [Nop],
                                             _bbterminator = Goto{_gbb = "bb11"}}},
                 BasicBlock{_bbinfo = "bb17",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_16",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyDynamic "::Foo[0]")
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:10:14: 10:16"}}},
                                                Nop,
                                                StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_18",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "alloc/2414878::string[0]::String[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:10:14: 10:16"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_0", _varmut = Mut,
                                                                     _varty = TyTuple [],
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:3:1: 11:2"}},
                                                       _arhs = Aggregate{_ak = AKTuple, _ops = []},
                                                       _apos = "src/main.rs:10:9: 10:19"}],
                                             _bbterminator = Goto{_gbb = "bb19"}}},
                 BasicBlock{_bbinfo = "bb18",
                            _bbdata =
                              BasicBlockData{_bbstmts = [Nop],
                                             _bbterminator = Goto{_gbb = "bb11"}}},
                 BasicBlock{_bbinfo = "bb19",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_8",
                                                                          _varmut = Mut,
                                                                          _varty = TyBool,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:9:7: 9:20"}}}],
                                             _bbterminator =
                                               Drop{_dloc =
                                                      Local{_lvar =
                                                              Var{_varname = "_7", _varmut = Immut,
                                                                  _varty =
                                                                    TyAdt
                                                                      "alloc/2414878::string[0]::String[0]"
                                                                      [],
                                                                  _varscope = "scope4",
                                                                  _varpos =
                                                                    "src/main.rs:8:8: 8:9"}},
                                                    _dtarget = "bb20", _dunwind = Just "bb5"}}},
                 BasicBlock{_bbinfo = "bb20",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_7",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyAdt
                                                                              "alloc/2414878::string[0]::String[0]"
                                                                              [],
                                                                          _varscope = "scope4",
                                                                          _varpos =
                                                                            "src/main.rs:8:8: 8:9"}}},
                                                StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_6",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyAdt
                                                                              "traits/8b70a08::Data[0]"
                                                                              [],
                                                                          _varscope = "scope3",
                                                                          _varpos =
                                                                            "src/main.rs:7:8: 7:9"}}},
                                                StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_3",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "alloc/2414878::string[0]::String[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope2",
                                                                          _varpos =
                                                                            "src/main.rs:6:8: 6:14"}}},
                                                StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_4",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "alloc/2414878::string[0]::String[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:6:18: 6:25"}}},
                                                Nop],
                                             _bbterminator =
                                               Drop{_dloc =
                                                      Local{_lvar =
                                                              Var{_varname = "_1", _varmut = Immut,
                                                                  _varty =
                                                                    TyAdt
                                                                      "alloc/2414878::vec[0]::Vec[0]"
                                                                      [Just
                                                                         (TyAdt
                                                                            "alloc/2414878::string[0]::String[0]"
                                                                            [])],
                                                                  _varscope = "scope1",
                                                                  _varpos =
                                                                    "src/main.rs:4:8: 4:12"}},
                                                    _dtarget = "bb21", _dunwind = Nothing}}},
                 BasicBlock{_bbinfo = "bb21",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_1",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyAdt
                                                                              "alloc/2414878::vec[0]::Vec[0]"
                                                                              [Just
                                                                                 (TyAdt
                                                                                    "alloc/2414878::string[0]::String[0]"
                                                                                    [])],
                                                                          _varscope = "scope1",
                                                                          _varpos =
                                                                            "src/main.rs:4:8: 4:12"}}}],
                                             _bbterminator = Return}}]}},
 Fn{_fname = "::fun[0]",
    _fargs =
      [Var{_varname = "_1", _varmut = Immut,
           _varty = TyRef (TyDynamic "::Foo[0]") Immut, _varscope = "scope0",
           _varpos = "src/main.rs:32:8: 32:9"}],
    _freturn_ty = TyTuple [],
    _fbody =
      MirBody{_mvars =
                [Var{_varname = "_0", _varmut = Mut, _varty = TyTuple [],
                     _varscope = "scope0", _varpos = "src/main.rs:32:1: 34:2"},
                 Var{_varname = "_2", _varmut = Immut,
                     _varty = TyRef (TyDynamic "::Foo[0]") Immut, _varscope = "scope1",
                     _varpos = "src/main.rs:32:8: 32:9"},
                 Var{_varname = "_3", _varmut = Mut, _varty = TyTuple [],
                     _varscope = "scope0", _varpos = "src/main.rs:33:4: 33:11"},
                 Var{_varname = "_4", _varmut = Mut,
                     _varty = TyRef (TyDynamic "::Foo[0]") Immut, _varscope = "scope0",
                     _varpos = "src/main.rs:33:4: 33:5"}],
              _mblocks =
                [BasicBlock{_bbinfo = "bb0",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_2",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyDynamic "::Foo[0]")
                                                                              Immut,
                                                                          _varscope = "scope1",
                                                                          _varpos =
                                                                            "src/main.rs:32:8: 32:9"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_2",
                                                                     _varmut = Immut,
                                                                     _varty =
                                                                       TyRef (TyDynamic "::Foo[0]")
                                                                         Immut,
                                                                     _varscope = "scope1",
                                                                     _varpos =
                                                                       "src/main.rs:32:8: 32:9"}},
                                                       _arhs =
                                                         Use{_uop =
                                                               Consume
                                                                 (Local{_lvar =
                                                                          Var{_varname = "_1",
                                                                              _varmut = Immut,
                                                                              _varty =
                                                                                TyRef
                                                                                  (TyDynamic
                                                                                     "::Foo[0]")
                                                                                  Immut,
                                                                              _varscope = "scope0",
                                                                              _varpos =
                                                                                "src/main.rs:32:8: 32:9"}})},
                                                       _apos = "src/main.rs:32:8: 32:9"},
                                                StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_4",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyDynamic "::Foo[0]")
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:33:4: 33:5"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_4", _varmut = Mut,
                                                                     _varty =
                                                                       TyRef (TyDynamic "::Foo[0]")
                                                                         Immut,
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:33:4: 33:5"}},
                                                       _arhs =
                                                         Use{_uop =
                                                               Consume
                                                                 (Local{_lvar =
                                                                          Var{_varname = "_2",
                                                                              _varmut = Immut,
                                                                              _varty =
                                                                                TyRef
                                                                                  (TyDynamic
                                                                                     "::Foo[0]")
                                                                                  Immut,
                                                                              _varscope = "scope1",
                                                                              _varpos =
                                                                                "src/main.rs:32:8: 32:9"}})},
                                                       _apos = "src/main.rs:33:4: 33:5"}],
                                             _bbterminator =
                                               Call{_cfunc =
                                                      OpConstant
                                                        (Constant{_conty =
                                                                    TyFnDef "::Foo[0]::foo[0]"
                                                                      [Just (TyDynamic "::Foo[0]")],
                                                                  _conliteral =
                                                                    Value
                                                                      (ConstFunction
                                                                         "::Foo[0]::foo[0]"
                                                                         [Just
                                                                            (TyDynamic
                                                                               "::Foo[0]")])}),
                                                    _cargs =
                                                      [Consume
                                                         (Local{_lvar =
                                                                  Var{_varname = "_4",
                                                                      _varmut = Mut,
                                                                      _varty =
                                                                        TyRef (TyDynamic "::Foo[0]")
                                                                          Immut,
                                                                      _varscope = "scope0",
                                                                      _varpos =
                                                                        "src/main.rs:33:4: 33:5"}})],
                                                    _cdest =
                                                      Just
                                                        (Local{_lvar =
                                                                 Var{_varname = "_3", _varmut = Mut,
                                                                     _varty = TyTuple [],
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:33:4: 33:11"}},
                                                         "bb1"),
                                                    _cleanup = Nothing}}},
                 BasicBlock{_bbinfo = "bb1",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_4",
                                                                          _varmut = Mut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyDynamic "::Foo[0]")
                                                                              Immut,
                                                                          _varscope = "scope0",
                                                                          _varpos =
                                                                            "src/main.rs:33:4: 33:5"}}},
                                                Nop,
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_0", _varmut = Mut,
                                                                     _varty = TyTuple [],
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:32:1: 34:2"}},
                                                       _arhs = Aggregate{_ak = AKTuple, _ops = []},
                                                       _apos = "src/main.rs:32:23: 34:2"},
                                                StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_2",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyDynamic "::Foo[0]")
                                                                              Immut,
                                                                          _varscope = "scope1",
                                                                          _varpos =
                                                                            "src/main.rs:32:8: 32:9"}}}],
                                             _bbterminator = Return}}]}},
 Fn{_fname = "::{{impl}}[0]::foo[0]",
    _fargs =
      [Var{_varname = "_1", _varmut = Immut,
           _varty = TyRef (TyAdt "traits/8b70a08::Data[0]" []) Immut,
           _varscope = "scope0", _varpos = "src/main.rs:20:13: 20:18"}],
    _freturn_ty = TyTuple [],
    _fbody =
      MirBody{_mvars =
                [Var{_varname = "_0", _varmut = Mut, _varty = TyTuple [],
                     _varscope = "scope0", _varpos = "src/main.rs:20:5: 22:6"},
                 Var{_varname = "_2", _varmut = Immut,
                     _varty = TyRef (TyAdt "traits/8b70a08::Data[0]" []) Immut,
                     _varscope = "scope1", _varpos = "src/main.rs:20:13: 20:18"}],
              _mblocks =
                [BasicBlock{_bbinfo = "bb0",
                            _bbdata =
                              BasicBlockData{_bbstmts =
                                               [StorageLive{_sllv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_2",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "traits/8b70a08::Data[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope1",
                                                                          _varpos =
                                                                            "src/main.rs:20:13: 20:18"}}},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_2",
                                                                     _varmut = Immut,
                                                                     _varty =
                                                                       TyRef
                                                                         (TyAdt
                                                                            "traits/8b70a08::Data[0]"
                                                                            [])
                                                                         Immut,
                                                                     _varscope = "scope1",
                                                                     _varpos =
                                                                       "src/main.rs:20:13: 20:18"}},
                                                       _arhs =
                                                         Use{_uop =
                                                               Consume
                                                                 (Local{_lvar =
                                                                          Var{_varname = "_1",
                                                                              _varmut = Immut,
                                                                              _varty =
                                                                                TyRef
                                                                                  (TyAdt
                                                                                     "traits/8b70a08::Data[0]"
                                                                                     [])
                                                                                  Immut,
                                                                              _varscope = "scope0",
                                                                              _varpos =
                                                                                "src/main.rs:20:13: 20:18"}})},
                                                       _apos = "src/main.rs:20:13: 20:18"},
                                                Assign{_alhs =
                                                         Local{_lvar =
                                                                 Var{_varname = "_0", _varmut = Mut,
                                                                     _varty = TyTuple [],
                                                                     _varscope = "scope0",
                                                                     _varpos =
                                                                       "src/main.rs:20:5: 22:6"}},
                                                       _arhs = Aggregate{_ak = AKTuple, _ops = []},
                                                       _apos = "src/main.rs:20:26: 22:6"},
                                                StorageDead{_sdlv =
                                                              Local{_lvar =
                                                                      Var{_varname = "_2",
                                                                          _varmut = Immut,
                                                                          _varty =
                                                                            TyRef
                                                                              (TyAdt
                                                                                 "traits/8b70a08::Data[0]"
                                                                                 [])
                                                                              Immut,
                                                                          _varscope = "scope1",
                                                                          _varpos =
                                                                            "src/main.rs:20:13: 20:18"}}}],
                                             _bbterminator = Return}}]}}]
#+end_src
** How traits look after rewriting in mir-verifier's AST
   :PROPERTIES:
   :CATEGORY: NORMALTIME
   :END:
   -  using [[https://github.com/achudnov/mir-ast-dump][mir-ast-dump]]
*** Trait call
#+begin_src haskell
_bbterminator = 
   Call{_cfunc = OpConstant 
                 (Constant {_conty = TyFnDef "::Foo[0]::foo[0]"
                                             [Just (TyDynamic "::Foo[0]")],
                            _conliteral = Value (ConstFunction "::Foo[0]::foo[0]"
                                                 [Just (TyDynamic "::Foo[0]")])}),
        _cargs = [Consume (Local{_lvar = 
                                  Var{_varname = "_4",
                                      _varmut = Mut,
                                      _varty =  TyRef (TyDynamic "::Foo[0]") Immut,
                                      _varscope = "scope0",
                                      _varpos = "src/main.rs:20:4: 20:5"}})],
                                      _cdest = Just (Local
                                               {_lvar = Var{_varname = "_3", _varmut = Mut,
                                                            _varty = TyTuple [],
                                                            _varscope = "scope0",
                                                            _varpos = "src/main.rs:20:4: 20:11"}},
                                               "bb1"),
                                      _cleanup = Nothing}}
#+end_src
*** Trait declaration
#+begin_src haskell
traits = [Trait "::Foo[0]"
          [TraitMethod "::Foo[0]::foo[0]"
           (FnSig [TyRef (TyParam 0) Immut] (TyTuple []))]]
#+end_src
*** Conversion to trait objects
#+begin_src haskell
Cast{_cck = Unsize,
     _cop = Consume (Local{_lvar = Var{_varname = "_13",
                                       _varmut = Mut,
                                       _varty = TyRef (TyAdt
                                        "traits/8b70a08::Data[0]"
                                        []) Immut,
                                       _varscope = "scope0",
                                       _varpos = "src/main.rs:9:27: 9:29"}}),
     _cty = TyRef (TyDynamic "::Foo[0]") Immut
    }
#+end_src
** Key steps in MIR->Crucible translation of traits
   1. For every trait keep track of every implementation of that trait as a map from types to methods
   2. Build vtables in Crucible as Crucible structs, get refs to them and remember in the trait-implementation map. This is so we don't have multiple copies of the same vtable lying around in the Crucible heap
   3. Trait objects are always translated to a pair of (Ref Any, Struct)
   4. See diagram in TEAS notes page 1 for a scheme of Crucible memory layout of trait objects
   5. Trait object creation (as-cast with size "Unknown") is translated into creation of a tuple (Ref Thing, Ref VTable_For_Thing)
** Tasks [1/6]
*** TODO Figure out how to resolve the type variable mismatch in TraitMap
    - see Trans.initFnState. The commented out `tm` gets a type mismatch on the `s` parameter. (Because of Some TraitMap)
    - Can't pass non-Some TraitMap (TraitMap s) because the (transitive) caller of initFnState, transDefine passes it to FunctionDef that explicitly quantifies forall s. 
    - And we really need the `s` parameter for TraitMap because it stores some Crucible expressions (VTables)
    - Probably need RobD to figure it out.
*** TODO Implement Trans.typeName
    - returns the name of the given MIR type (as that name would appear in MIR)
*** DONE Build Crucible vtables for trait objects
    CLOSED: [2018-02-23 Fri 18:10]
    :PROPERTIES:
    :CATEGORY: PRIMETIME
    :END:
    Build vtables in Crucible as Crucible structs and remember in the map from a pair trait-implementation to Structs.
    - Trans.hs:buildVTable
*** TODO Build a trait-implementation map
    :PROPERTIES:
    :CATEGORY: NORMALTIME
    :END:
    - For every trait keep track of every implementation of that trait as a map from types to methods names
    - Trans.hs:buildTraitMap
**** NEXT [#A] Write a heuristic that detects functions that are implementations of trait methods
     :PROPERTIES:
     :CATEGORY: PRIMETIME
     :END:
     - Trans.hs:getTraitImplementation
*** TODO Translate trait object creation
    - Trait objects are always translated to a pair of (Ref Any, StructOfFnHandles)
    - Creation is done with a Cast{_cck = Unsize, _cty = TyRef (TyDynamic ...)...}
    - First ref points to the underlying datatype
    - Second ref points to a vtable for the trait-type pair
    - Trans.hs:mkTraitObject
**** TODO In trait object creation the first field should be Ref Any instead of Any
     - couldn't find a good way to create a ref to the base value yet
     - once found, change the return value and type --- the first element of the tuple.
*** TODO Translate virtual/trait calls
    - calls look like Call {_cfunc = OpConstant (Constant {_conty = TyFnDef ... [Just (TyDynamic "::<Trait>", ..], ...}, ...}), ...}
    - the first argument (typed as TyDynamic) should be a crucible pair (Ref Any, Ref Any). Cast the second ref to a type of this trait's vtable. Get the function handle from the table. Call the function with the first ref and the rest of the args.
    - finish Trans.methodCall: 
**** TODO Factor out the common parts in doCall and methodCall
     - calling a specific FunctionHandle with arguments and returning to a certain location.
